<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>teeno.xyz | Drive</title>
<style>
/* === General Reset & Body === */
* { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
body { font-family: 'Poppins', sans-serif; background: #0c0c0c; color: #fff; }

/* === Header === */
header { text-align: center; padding: 40px 20px; }
header h1 a { font-size: 3rem; color: #8f8cff; text-decoration: none; transition: 0.3s; }
header h1 a:hover { color: #6c63ff; }
nav { margin-top: 15px; }
nav a { margin: 0 15px; color: #fff; text-decoration: none; font-weight: 500; transition: 0.3s; }
nav a:hover { color: #6c63ff; }

/* === File list container === */
#file-list {
  max-width: 1000px;
  margin: 50px auto;
  background: #111;
  border: 2px solid #222;
  border-radius: 15px;
  padding: 30px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* === Individual items === */
.item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  border-radius: 8px;
  transition: all 0.3s ease;
  background: #111;
}
.item:hover { background: #1a1a1a; transform: translateX(3px); }

/* === Folder style === */
.folder { font-weight: bold; cursor: pointer; color: #6c63ff; flex: 1; }
.folder::before { content: "üìÅ "; margin-right: 8px; }

/* === File style === */
.file { color: #fff; flex: 1; }
.file::before { content: "üìÑ "; margin-right: 8px; }

/* === Download link & copy button === */
.download-link, .copy-btn {
  margin-left: 10px;
  text-decoration: none;
  font-size: 0.9rem;
  color: #8f8cff;
  transition: 0.3s;
}
.download-link:hover, .copy-btn:hover { color: #6c63ff; cursor: pointer; }

/* === Subfolders === */
.subfolder { margin-left: 25px; display: flex; flex-direction: column; gap: 6px; }

/* === Footer === */
footer { text-align: center; padding: 40px 20px; font-size: 0.9rem; color: #aaa; }
footer a { color: #8f8cff; text-decoration: none; transition: 0.3s; }
footer a:hover { color: #6c63ff; text-decoration: underline; }

/* === Custom cursor === */
.cursor-circle {
  position: fixed;
  width: 20px;
  height: 20px;
  background: #6c63ff;
  border-radius: 50%;
  pointer-events: none;
  transform: translate(-50%, -50%);
  mix-blend-mode: difference;
  transition: width 0.2s ease, height 0.2s ease;
}
</style>
</head>
<body>

<header>
  <h1><a href="https://teeno.xyz">teeno.xyz</a></h1>
  <nav>
    <a href="/">üè† Home</a>
  </nav>
</header>

<main>
  <div id="file-list">Loading files...</div>
</main>

<footer>
  Built with ‚ú® by <a href="https://github.com/lerpyypluh" target="_blank" rel="nofollow noopener noreferrer">Teeno</a>
</footer>

<div class="cursor-circle" id="cursor"></div>

<script>
// === Custom Cursor ===
const cursor = document.getElementById('cursor');
document.addEventListener('mousemove', e => {
  cursor.style.left = e.clientX + 'px';
  cursor.style.top = e.clientY + 'px';
});

// === Copy file URL ===
function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(() => alert(`Copied: ${text}`));
}

// === GitHub repo info ===
const owner = "lerpyypluh";
const repo = "bio";
const fileList = document.getElementById("file-list");

// === Fetch /drive folder contents ===
async function fetchContents(path = "drive", container) {
  try {
    const response = await fetch(`https://api.github.com/repos/${owner}/${repo}/contents/${path}`);
    if (!response.ok) throw new Error(`Failed to fetch files at path: ${path}`);
    const items = await response.json();

    for (const item of items) {
      const el = document.createElement("div");
      el.classList.add("item");
      const fullPath = item.path;
      el.dataset.path = fullPath;

      if(item.type === "dir") {
        el.classList.add("folder");
        const folderName = document.createElement("span");
        folderName.textContent = item.name;
        el.appendChild(folderName);

        const subContainer = document.createElement("div");
        subContainer.classList.add("subfolder");
        subContainer.style.display = "none";
        container.appendChild(el);
        container.appendChild(subContainer);

        let loaded = false;
        const toggleFolder = () => {
          if(subContainer.style.display === "none") {
            subContainer.style.display = "flex";
            if(!loaded) { fetchContents(fullPath, subContainer); loaded = true; }
          } else subContainer.style.display = "none";
        };
        el.addEventListener("click", toggleFolder);

      } else if(item.type === "file") {
        el.classList.add("file");
        const link = document.createElement("a");
        link.href = item.download_url;
        link.textContent = item.name;
        link.target = "_blank";
        link.className = "download-link";
        el.appendChild(link);

        const copyBtn = document.createElement("button");
        copyBtn.textContent = "üîó";
        copyBtn.className = "copy-btn";
        copyBtn.title = "Copy file URL";
        copyBtn.addEventListener("click", () => copyToClipboard(item.download_url));
        el.appendChild(copyBtn);

        container.appendChild(el);
      }
    }

  } catch(err) {
    container.innerHTML = `<p style="color:red;">Error: ${err.message}</p>`;
    console.error(err);
  }
}

// === Initialize ===
fileList.innerHTML = "";
fetchContents("drive", fileList);
</script>

</body>
</html>
